version: 4.3.2
definitions:
  selector:
    description: >-
      Base records selector for Full Refresh streams
    type: RecordSelector
    extractor:
      type: DpathExtractor
      field_path:
      - "{{ parameters.get('data_field') }}"
  authenticator:
    type: BearerAuthenticator
    api_token: "{{ config['credentials']['access_token'] }}"
  paginator:
    type: DefaultPaginator
    page_token_option:
      type: RequestOption
      inject_into: request_parameter
      field_name: cursor
    page_size_option:
      inject_into: request_parameter
      type: RequestOption
      field_name: limit
    pagination_strategy:
      type: CursorPagination
      page_size: 100
      cursor_value: '{{ response.get("next_url", {}) }}'
      stop_condition: '{{ not response.get("next_url", {}) }}'
  paginator_id_offset:
    type: DefaultPaginator
    page_token_option:
      type: RequestOption
      inject_into: request_parameter
      field_name: since_id
    page_size_option:
      inject_into: request_parameter
      type: RequestOption
      field_name: limit
    pagination_strategy:
      type: CustomPaginationStrategy
      class_name: 
        source_declarative_manifest.components.ZendeskChatIdOffsetIncrementPaginationStrategy
      id_field: id
      page_size: 100
  paginator_time_offset:
    type: DefaultPaginator
    page_token_option:
      type: RequestOption
      inject_into: request_parameter
      field_name: start_time
    page_size_option:
      inject_into: request_parameter
      type: RequestOption
      field_name: limit
    pagination_strategy:
      type: CustomPaginationStrategy
      class_name: 
        source_declarative_manifest.components.ZendeskChatTimeOffsetIncrementPaginationStrategy
      time_field_name: end_time
      page_size: 1000
  requester:
    description: >-
      Default Base Requester for Full Refresh streams
    type: HttpRequester
    url_base: https://www.zopim.com/api/v2/
    path: "{{ parameters['path'] }}"
    http_method: GET
    authenticator:
      type: BearerAuthenticator
      api_token: "{{ config['credentials']['access_token'] }}"
    error_handler:
      type: DefaultErrorHandler
      description: >-
        The default error handler
      backoff_strategies:
      - type: WaitTimeFromHeader
        header: Retry-After
  retriever_base:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path:
        - "{{ parameters.get('data_field') }}"
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: DefaultPaginator
      page_token_option:
        type: RequestOption
        inject_into: request_parameter
        field_name: cursor
      page_size_option:
        inject_into: request_parameter
        type: RequestOption
        field_name: limit
      pagination_strategy:
        type: CursorPagination
        page_size: 100
        cursor_value: '{{ response.get("next_url", {}) }}'
        stop_condition: '{{ not response.get("next_url", {}) }}'
  retriever_for_type_list:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path: []
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: DefaultPaginator
      page_token_option:
        type: RequestOption
        inject_into: request_parameter
        field_name: cursor
      page_size_option:
        inject_into: request_parameter
        type: RequestOption
        field_name: limit
      pagination_strategy:
        type: CursorPagination
        page_size: 100
        cursor_value: '{{ response.get("next_url", {}) }}'
        stop_condition: '{{ not response.get("next_url", {}) }}'
  retriever_for_type_list_no_pagination:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path: []
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: NoPagination
  base_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
          - "{{ parameters.get('data_field') }}"
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          inject_into: request_parameter
          field_name: cursor
        page_size_option:
          inject_into: request_parameter
          type: RequestOption
          field_name: limit
        pagination_strategy:
          type: CursorPagination
          page_size: 100
          cursor_value: '{{ response.get("next_url", {}) }}'
          stop_condition: '{{ not response.get("next_url", {}) }}'
  base_stream_with_list_response_no_pagination:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path: []
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: NoPagination
  base_stream_with_id_offset_pagination:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path: []
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          inject_into: request_parameter
          field_name: since_id
        page_size_option:
          inject_into: request_parameter
          type: RequestOption
          field_name: limit
        pagination_strategy:
          type: CustomPaginationStrategy
          class_name: 
            source_declarative_manifest.components.ZendeskChatIdOffsetIncrementPaginationStrategy
          id_field: id
          page_size: 100
  base_stream_with_time_offset_pagination:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
          - "{{ parameters.get('data_field') }}"
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
        request_parameters:
          fields: "{{ parameters['name'] + '(*)' }}"
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          inject_into: request_parameter
          field_name: start_time
        page_size_option:
          inject_into: request_parameter
          type: RequestOption
          field_name: limit
        pagination_strategy:
          type: CustomPaginationStrategy
          class_name: 
            source_declarative_manifest.components.ZendeskChatTimeOffsetIncrementPaginationStrategy
          time_field_name: end_time
          page_size: 1000
  base_incremental_id_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path: []
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          inject_into: request_parameter
          field_name: since_id
        page_size_option:
          inject_into: request_parameter
          type: RequestOption
          field_name: limit
        pagination_strategy:
          type: CustomPaginationStrategy
          class_name: 
            source_declarative_manifest.components.ZendeskChatIdOffsetIncrementPaginationStrategy
          id_field: id
          page_size: 100
      ignore_stream_slicer_parameters_on_paginated_requests: true
    incremental_sync:
      type: CustomIncrementalSync
      class_name: 
        source_declarative_manifest.components.ZendeskChatIdIncrementalCursor
      cursor_field: "id"
      field_name: "since_id"
  base_incremental_time_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
          - "{{ parameters.get('data_field') }}"
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
        request_parameters:
          fields: "{{ parameters['name'] + '(*)' }}"
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          inject_into: request_parameter
          field_name: start_time
        page_size_option:
          inject_into: request_parameter
          type: RequestOption
          field_name: limit
        pagination_strategy:
          type: CustomPaginationStrategy
          class_name: 
            source_declarative_manifest.components.ZendeskChatTimeOffsetIncrementPaginationStrategy
          time_field_name: end_time
          page_size: 1000
      ignore_stream_slicer_parameters_on_paginated_requests: true
    incremental_sync:
      type: CustomIncrementalSync
      class_name: source_declarative_manifest.components.ZendeskChatTimestampCursor
      use_microseconds: "{{ parameters['use_microseconds'] }}"
      cursor_field: "{{ parameters['cursor_field'] }}"
      cursor_datetime_formats:
      - "%Y-%m-%dT%H:%M:%S.%fZ"
      - "%Y-%m-%dT%H:%M:%SZ"
      datetime_format: "%s"
      start_datetime:
        datetime: "{{ format_datetime(config['start_date'], '%s') }}"
      start_time_option:
        field_name: start_time
        inject_into: "request_parameter"
  accounts_stream:
    primary_key: "account_key"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path: []
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: NoPagination
    description: >-
      Accounts Stream: https://developer.zendesk.com/rest_api/docs/chat/accounts#show-account
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          account_key:
            type:
            - 'null'
            - string
          billing:
            properties:
              additional_info:
                type:
                - 'null'
                - string
              address1:
                type:
                - 'null'
                - string
              address2:
                type:
                - 'null'
                - string
              city:
                type:
                - 'null'
                - string
              company:
                type:
                - 'null'
                - string
              country_code:
                type:
                - 'null'
                - string
              cycle:
                type:
                - 'null'
                - integer
              email:
                type:
                - 'null'
                - string
              first_name:
                type:
                - 'null'
                - string
              last_name:
                type:
                - 'null'
                - string
              phone:
                type:
                - 'null'
                - string
              postal_code:
                type:
                - 'null'
                - string
              state:
                type:
                - 'null'
                - string
            type:
            - 'null'
            - object
          create_date:
            format: date-time
            type:
            - 'null'
            - string
          plan:
            properties:
              agent_leaderboard:
                type:
                - 'null'
                - boolean
              agent_reports:
                type:
                - 'null'
                - boolean
              analytics:
                type:
                - 'null'
                - boolean
              chat_reports:
                type:
                - 'null'
                - boolean
              daily_reports:
                type:
                - 'null'
                - boolean
              email_reports:
                type:
                - 'null'
                - boolean
              file_upload:
                type:
                - 'null'
                - boolean
              goals:
                type:
                - 'null'
                - integer
              high_load:
                type:
                - 'null'
                - boolean
              integrations:
                type:
                - 'null'
                - boolean
              ip_restriction:
                type:
                - 'null'
                - boolean
              long_desc:
                type:
                - 'null'
                - string
              max_advanced_triggers:
                type:
                - 'null'
                - string
              max_agents:
                type:
                - 'null'
                - integer
              max_basic_triggers:
                type:
                - 'null'
                - string
              max_concurrent_chats:
                type:
                - 'null'
                - string
              max_departments:
                type:
                - 'null'
                - string
              max_history_search_days:
                type:
                - 'null'
                - string
              monitoring:
                type:
                - 'null'
                - boolean
              name:
                type:
                - 'null'
                - string
              operating_hours:
                type:
                - 'null'
                - boolean
              price:
                type:
                - 'null'
                - number
              rest_api:
                type:
                - 'null'
                - boolean
              short_desc:
                type:
                - 'null'
                - string
              sla:
                type:
                - 'null'
                - boolean
              support:
                type:
                - 'null'
                - boolean
              unbranding:
                type:
                - 'null'
                - boolean
              widget_customization:
                type:
                - 'null'
                - string
            type:
            - 'null'
            - object
          status:
            type:
            - 'null'
            - string
  shortcuts_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path: []
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: NoPagination
    description: >-
      Shortcuts Stream: https://developer.zendesk.com/rest_api/docs/chat/shortcuts#list-shortcuts
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          tags:
            items:
              type:
              - string
            type:
            - 'null'
            - array
          name:
            type:
            - string
          options:
            type:
            - 'null'
            - string
          message:
            type:
            - 'null'
            - string
          scope:
            type:
            - 'null'
            - string
          id:
            type:
            - 'null'
            - string
          departments:
            items:
              type: integer
            type:
            - 'null'
            - array
  routing_settings_stream:
    primary_key: ""
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        extractor:
          type: DpathExtractor
          field_path:
          - "data"
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: NoPagination
    description: >-
      Routing Settings Stream: https://developer.zendesk.com/rest_api/docs/chat/routing_settings#show-account-routing-settings
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          routing_mode:
            type:
            - 'null'
            - string
          chat_limit:
            type:
            - 'null'
            - object
            properties:
              enabled:
                type:
                - 'null'
                - boolean
              limit:
                type:
                - 'null'
                - integer
              limit_type:
                type:
                - 'null'
                - string
              allow_agent_override:
                type:
                - 'null'
                - boolean
          skill_routing:
            type:
            - 'null'
            - object
            properties:
              enabled:
                type:
                - 'null'
                - boolean
              max_wait_time:
                type:
                - 'null'
                - integer
          reassignment:
            type:
            - 'null'
            - object
            properties:
              enabled:
                type:
                - 'null'
                - boolean
              timeout:
                type:
                - 'null'
                - integer
          auto_idle:
            type:
            - 'null'
            - object
            properties:
              enabled:
                type:
                - 'null'
                - boolean
              reassignments_before_idle:
                type:
                - 'null'
                - integer
              new_status:
                type:
                - 'null'
                - string
  triggers_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path: []
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: NoPagination
    description: >-
      Triggers Stream: https://developer.zendesk.com/rest_api/docs/chat/triggers#list-triggers
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          description:
            type:
            - 'null'
            - string
          enabled:
            type:
            - 'null'
            - boolean
          id:
            type:
            - integer
          name:
            type:
            - 'null'
            - string
          definition:
            properties:
              actions:
                type:
                - 'null'
                - string
                - array
              condition:
                type:
                - 'null'
                - string
                - array
              event:
                type:
                - 'null'
                - string
                - array
              version:
                type:
                - 'null'
                - integer
            type:
            - 'null'
            - object
  roles_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path: []
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: NoPagination
    description: >-
      Roles Stream: https://developer.zendesk.com/rest_api/docs/chat/roles#list-roles
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          description:
            type:
            - 'null'
            - string
          enabled:
            type:
            - 'null'
            - boolean
          id:
            type:
            - integer
          members_count:
            type:
            - integer
          name:
            type:
            - 'null'
            - string
          permissions:
            type:
            - 'null'
            - object
            properties:
              visitors_seen:
                type:
                - 'null'
                - string
              proactive_chatting:
                type:
                - 'null'
                - string
              edit_visitor_information:
                type:
                - 'null'
                - boolean
              edit_visitor_notes:
                type:
                - 'null'
                - boolean
              view_past_chats:
                type:
                - 'null'
                - string
              edit_chat_tags:
                type:
                - 'null'
                - boolean
              manage_bans:
                type:
                - 'null'
                - string
              access_analytics:
                type:
                - 'null'
                - string
              view_monitor:
                type:
                - 'null'
                - string
              edit_department_agents:
                type:
                - 'null'
                - string
              set_agent_chat_limit:
                type:
                - 'null'
                - string
              manage_shortcuts:
                type:
                - 'null'
                - string
  skills_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path: []
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: NoPagination
    description: >-
      Skills Stream: https://developer.zendesk.com/rest_api/docs/chat/skills#list-skills
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          description:
            type:
            - 'null'
            - string
          enabled:
            type:
            - 'null'
            - boolean
          id:
            type:
            - integer
          members:
            items:
              type: integer
            type:
            - 'null'
            - array
          name:
            type:
            - 'null'
            - string
  goals_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path: []
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: NoPagination
    description: >-
      Goals Stream: https://developer.zendesk.com/rest_api/docs/chat/goals#list-goals
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          attribution_model:
            type:
            - 'null'
            - string
          attribution_period:
            type:
            - 'null'
            - integer
          description:
            type:
            - 'null'
            - string
          enabled:
            type:
            - 'null'
            - boolean
          id:
            type:
            - integer
          name:
            type:
            - 'null'
            - string
          settings:
            properties:
              conditions:
                items:
                  properties:
                    operator:
                      type:
                      - 'null'
                      - string
                    type:
                      type:
                      - 'null'
                      - string
                    value:
                      type:
                      - 'null'
                      - string
                  type:
                  - 'null'
                  - object
                type:
                - 'null'
                - array
            type:
            - 'null'
            - object
            additionalProperties: true
  departments_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path: []
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: NoPagination
    description: >-
      Departments Stream: https://developer.zendesk.com/rest_api/docs/chat/departments#list-departments
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          description:
            type:
            - 'null'
            - string
          enabled:
            type:
            - 'null'
            - boolean
          id:
            type:
            - integer
          members:
            items:
              type:
              - 'null'
              - integer
            type:
            - 'null'
            - array
          name:
            type:
            - 'null'
            - string
          settings:
            type:
            - 'null'
            - object
            additionalProperties: true
  agents_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path: []
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          inject_into: request_parameter
          field_name: since_id
        page_size_option:
          inject_into: request_parameter
          type: RequestOption
          field_name: limit
        pagination_strategy:
          type: CustomPaginationStrategy
          class_name: 
            source_declarative_manifest.components.ZendeskChatIdOffsetIncrementPaginationStrategy
          id_field: id
          page_size: 100
      ignore_stream_slicer_parameters_on_paginated_requests: true
    incremental_sync:
      type: CustomIncrementalSync
      class_name: 
        source_declarative_manifest.components.ZendeskChatIdIncrementalCursor
      cursor_field: "id"
      field_name: "since_id"
    description: >-
      Agents Stream: https://developer.zendesk.com/rest_api/docs/chat/agents#list-agents
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          create_date:
            format: date-time
            type:
            - 'null'
            - string
          departments:
            items:
              type:
              - integer
            type:
            - 'null'
            - array
          display_name:
            type:
            - 'null'
            - string
          email:
            type:
            - 'null'
            - string
          enabled:
            type:
            - 'null'
            - boolean
          enabled_departments:
            type:
            - 'null'
            - array
          first_name:
            type:
            - 'null'
            - string
          id:
            type:
            - integer
          last_login:
            format: date-time
            type:
            - 'null'
            - string
          last_name:
            type:
            - 'null'
            - string
          login_count:
            type:
            - 'null'
            - integer
          role_id:
            type:
            - 'null'
            - integer
          roles:
            properties:
              administrator:
                type:
                - boolean
              owner:
                type:
                - boolean
            type:
            - 'null'
            - object
          scope:
            type:
            - 'null'
            - string
          skills:
            items:
              type: integer
            type:
            - 'null'
            - array
  bans_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        type: RecordSelector
        extractor:
          type: CustomRecordExtractor
          class_name: 
            source_declarative_manifest.components.ZendeskChatBansRecordExtractor
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          inject_into: request_parameter
          field_name: since_id
        page_size_option:
          inject_into: request_parameter
          type: RequestOption
          field_name: limit
        pagination_strategy:
          type: CustomPaginationStrategy
          class_name: 
            source_declarative_manifest.components.ZendeskChatIdOffsetIncrementPaginationStrategy
          id_field: id
          page_size: 100
      ignore_stream_slicer_parameters_on_paginated_requests: true
    incremental_sync:
      type: CustomIncrementalSync
      class_name: 
        source_declarative_manifest.components.ZendeskChatIdIncrementalCursor
      cursor_field: "id"
      field_name: "since_id"
    description: >-
      Bans Stream: https://developer.zendesk.com/rest_api/docs/chat/bans#list-bans
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          create_date:
            format: date-time
            type:
            - 'null'
            - string
          id:
            type:
            - integer
          ip_address:
            type:
            - 'null'
            - string
          reason:
            type:
            - 'null'
            - string
          type:
            type:
            - 'null'
            - string
          visitor_id:
            type:
            - 'null'
            - string
          visitor_name:
            type:
            - 'null'
            - string
  agents_timelines_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
          - "{{ parameters.get('data_field') }}"
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
        request_parameters:
          fields: "{{ parameters['name'] + '(*)' }}"
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          inject_into: request_parameter
          field_name: start_time
        page_size_option:
          inject_into: request_parameter
          type: RequestOption
          field_name: limit
        pagination_strategy:
          type: CustomPaginationStrategy
          class_name: 
            source_declarative_manifest.components.ZendeskChatTimeOffsetIncrementPaginationStrategy
          time_field_name: end_time
          page_size: 1000
      ignore_stream_slicer_parameters_on_paginated_requests: true
    incremental_sync:
      type: CustomIncrementalSync
      class_name: source_declarative_manifest.components.ZendeskChatTimestampCursor
      use_microseconds: "{{ parameters['use_microseconds'] }}"
      cursor_field: "{{ parameters['cursor_field'] }}"
      cursor_datetime_formats:
      - "%Y-%m-%dT%H:%M:%S.%fZ"
      - "%Y-%m-%dT%H:%M:%SZ"
      datetime_format: "%s"
      start_datetime:
        datetime: "{{ format_datetime(config['start_date'], '%s') }}"
      start_time_option:
        field_name: start_time
        inject_into: "request_parameter"
    description: >-
      Agent Timelines Stream: https://developer.zendesk.com/rest_api/docs/chat/incremental_export#incremental-agent-timeline-export
    transformations:
    - type: AddFields
      fields:
      - path:
        - "start_time"
        value: "{{ format_datetime(record.get('start_time', config['start_date']),
          '%Y-%m-%dT%H:%M:%SZ') }}"
      - path:
        - "id"
        value: "{{ record.get('agent_id', '')|string + '|' + record.get('start_time',
          '')|string }}"
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          id:
            type:
            - 'null'
            - string
          agent_id:
            type:
            - 'null'
            - integer
          duration:
            type:
            - 'null'
            - number
          engagement_count:
            type:
            - 'null'
            - integer
          start_time:
            type:
            - 'null'
            - string
            format: date-time
          status:
            type:
            - 'null'
            - string
  chats_stream:
    primary_key: "id"
    retriever:
      description: >-
        Default Retriever for Full Refresh streams
      record_selector:
        description: >-
          Base records selector for Full Refresh streams
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
          - "{{ parameters.get('data_field') }}"
      requester:
        description: >-
          Default Base Requester for Full Refresh streams
        type: HttpRequester
        url_base: https://www.zopim.com/api/v2/
        path: "{{ parameters['path'] }}"
        http_method: GET
        authenticator:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['access_token'] }}"
        error_handler:
          type: DefaultErrorHandler
          description: >-
            The default error handler
          backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
        request_parameters:
          fields: "{{ parameters['name'] + '(*)' }}"
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          inject_into: request_parameter
          field_name: start_time
        page_size_option:
          inject_into: request_parameter
          type: RequestOption
          field_name: limit
        pagination_strategy:
          type: CustomPaginationStrategy
          class_name: 
            source_declarative_manifest.components.ZendeskChatTimeOffsetIncrementPaginationStrategy
          time_field_name: end_time
          page_size: 1000
      ignore_stream_slicer_parameters_on_paginated_requests: true
    incremental_sync:
      type: CustomIncrementalSync
      class_name: source_declarative_manifest.components.ZendeskChatTimestampCursor
      use_microseconds: "{{ parameters['use_microseconds'] }}"
      cursor_field: "{{ parameters['cursor_field'] }}"
      cursor_datetime_formats:
      - "%Y-%m-%dT%H:%M:%S.%fZ"
      - "%Y-%m-%dT%H:%M:%SZ"
      datetime_format: "%s"
      start_datetime:
        datetime: "{{ format_datetime(config['start_date'], '%s') }}"
      start_time_option:
        field_name: start_time
        inject_into: "request_parameter"
    description: >-
      Chats Stream: https://developer.zendesk.com/api-reference/live-chat/chat-api/incremental_export/#incremental-chat-export
    schema_loader:
      type: InlineSchemaLoader
      schema:
        $schema: http://json-schema.org/draft-07/schema#
        type: object
        properties:
          agent_ids:
            items:
              type:
              - string
            type:
            - 'null'
            - array
          agent_names:
            items:
              type:
              - string
            type:
            - 'null'
            - array
          comment:
            type:
            - 'null'
            - string
          conversions:
            items:
              properties:
                id:
                  type:
                  - string
                goal_name:
                  type:
                  - 'null'
                  - string
                goal_id:
                  type:
                  - 'null'
                  - integer
                attribution:
                  properties:
                    chat_timestamp:
                      format: date-time
                      type:
                      - 'null'
                      - string
                    department_name:
                      type:
                      - 'null'
                      - string
                    agent_name:
                      type:
                      - 'null'
                      - string
                    department_id:
                      type:
                      - 'null'
                      - integer
                    agent_id:
                      type:
                      - 'null'
                      - integer
                  type:
                  - 'null'
                  - object
                timestamp:
                  format: date-time
                  type:
                  - 'null'
                  - string
              type:
              - 'null'
              - object
              additionalProperties: true
            type:
            - 'null'
            - array
          count:
            properties:
              total:
                type:
                - 'null'
                - integer
              agent:
                type:
                - 'null'
                - integer
              visitor:
                type:
                - 'null'
                - integer
            type:
            - 'null'
            - object
            additionalProperties: true
          department_id:
            type:
            - 'null'
            - integer
          department_name:
            type:
            - 'null'
            - string
          duration:
            type:
            - 'null'
            - integer
          history:
            items:
              properties:
                name:
                  type:
                  - 'null'
                  - string
                channel:
                  type:
                  - 'null'
                  - string
                conversion:
                  properties:
                    id:
                      type:
                      - string
                    goal_name:
                      type:
                      - 'null'
                      - string
                    goal_id:
                      type:
                      - 'null'
                      - integer
                    attribution:
                      properties:
                        chat_timestamp:
                          format: date-time
                          type:
                          - 'null'
                          - string
                        department_name:
                          type:
                          - 'null'
                          - string
                        agent_name:
                          type:
                          - 'null'
                          - string
                        department_id:
                          type:
                          - 'null'
                          - integer
                        agent_id:
                          type:
                          - 'null'
                          - integer
                      type:
                      - 'null'
                      - object
                    timestamp:
                      format: date-time
                      type:
                      - 'null'
                      - string
                  type:
                  - 'null'
                  - object
                  additionalProperties: true
                timestamp:
                  format: date-time
                  type:
                  - 'null'
                  - string
                msg:
                  type:
                  - 'null'
                  - string
                nick:
                  type:
                  - 'null'
                  - string
                type:
                  type:
                  - 'null'
                  - string
                options:
                  type:
                  - 'null'
                  - string
                department_id:
                  type:
                  - 'null'
                  - integer
                  - string
                prev_department_id:
                  type:
                  - 'null'
                  - integer
                  - string
                department_name:
                  type:
                  - 'null'
                  - string
                msg_id:
                  type:
                  - 'null'
                  - string
                  - integer
                tags:
                  type:
                  - 'null'
                  - array
                new_tags:
                  type:
                  - 'null'
                  - array
                rating:
                  type:
                  - 'null'
                  - string
                new_rating:
                  type:
                  - 'null'
                  - string
                skills_name:
                  type:
                  - 'null'
                  - array
              type:
              - 'null'
              - object
              additionalProperties: true
            type:
            - 'null'
            - array
          id:
            type:
            - 'null'
            - string
          missed:
            type:
            - 'null'
            - boolean
          rating:
            type:
            - 'null'
            - string
          response_time:
            properties:
              first:
                type:
                - 'null'
                - integer
              max:
                type:
                - 'null'
                - integer
              avg:
                type:
                - 'null'
                - number
            type:
            - 'null'
            - object
            additionalProperties: true
          session:
            properties:
              end_date:
                format: date-time
                type:
                - 'null'
                - string
              country_code:
                type:
                - 'null'
                - string
              city:
                type:
                - 'null'
                - string
              browser:
                type:
                - 'null'
                - string
              ip:
                type:
                - 'null'
                - string
              country_name:
                type:
                - 'null'
                - string
              id:
                type:
                - 'null'
                - string
              region:
                type:
                - 'null'
                - string
              platform:
                type:
                - 'null'
                - string
              user_agent:
                type:
                - 'null'
                - string
              start_date:
                format: date-time
                type:
                - 'null'
                - string
          started_by:
            type:
            - 'null'
            - string
          tags:
            items:
              type:
              - string
            type:
            - 'null'
            - array
          timestamp:
            format: date-time
            type:
            - 'null'
            - string
          update_timestamp:
            format: date-time
            type:
            - 'null'
            - string
          triggered:
            type:
            - 'null'
            - boolean
          triggered_response:
            type:
            - 'null'
            - boolean
          type:
            type:
            - 'null'
            - string
          unread:
            type:
            - 'null'
            - boolean
          visitor:
            properties:
              name:
                type:
                - 'null'
                - string
              id:
                type:
                - string
              email:
                type:
                - 'null'
                - string
              notes:
                type:
                - 'null'
                - string
              phone:
                type:
                - 'null'
                - string
            type:
            - 'null'
            - object
            additionalProperties: true
          webpath:
            items:
              properties:
                to:
                  type:
                  - 'null'
                  - string
                title:
                  type:
                  - 'null'
                  - string
                from:
                  type:
                  - 'null'
                  - string
                timestamp:
                  format: date-time
                  type:
                  - 'null'
                  - string
              type:
              - 'null'
              - object
              additionalProperties: true
            type:
            - 'null'
            - array
          message:
            type:
            - 'null'
            - string
          deleted:
            type:
            - 'null'
            - boolean
          zendesk_ticket_id:
            type:
            - 'null'
            - integer
          engagements:
            items:
              properties:
                id:
                  type:
                  - 'null'
                  - string
                started_by:
                  type:
                  - 'null'
                  - string
                agent_id:
                  type:
                  - 'null'
                  - string
                agent_name:
                  type:
                  - 'null'
                  - string
                agent_full_name:
                  type:
                  - 'null'
                  - string
                department_id:
                  type:
                  - 'null'
                  - integer
                assigned:
                  type:
                  - 'null'
                  - boolean
                accepted:
                  type:
                  - 'null'
                  - boolean
                rating:
                  type:
                  - 'null'
                  - string
                comment:
                  type:
                  - 'null'
                  - string
                skills_requested:
                  type:
                  - 'null'
                  - array
                skills_fulfilled:
                  type:
                  - 'null'
                  - boolean
                timestamp:
                  format: date-time
                  type:
                  - 'null'
                  - string
                duration:
                  type:
                  - 'null'
                  - number
                response_time:
                  properties:
                    first:
                      type:
                      - 'null'
                      - integer
                    max:
                      type:
                      - 'null'
                      - integer
                    avg:
                      type:
                      - 'null'
                      - number
                  type:
                  - 'null'
                  - object
                  additionalProperties: true
                count:
                  properties:
                    total:
                      type:
                      - 'null'
                      - integer
                    agent:
                      type:
                      - 'null'
                      - integer
                    visitor:
                      type:
                      - 'null'
                      - integer
                  type:
                  - 'null'
                  - object
                  additionalProperties: true
              type:
              - 'null'
              - object
              additionalProperties: true
            type:
            - 'null'
            - array
streams:
- primary_key: "account_key"
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path: []
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: NoPagination
    type: SimpleRetriever
  description: >-
    Accounts Stream: https://developer.zendesk.com/rest_api/docs/chat/accounts#show-account
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        account_key:
          type:
          - 'null'
          - string
        billing:
          properties:
            additional_info:
              type:
              - 'null'
              - string
            address1:
              type:
              - 'null'
              - string
            address2:
              type:
              - 'null'
              - string
            city:
              type:
              - 'null'
              - string
            company:
              type:
              - 'null'
              - string
            country_code:
              type:
              - 'null'
              - string
            cycle:
              type:
              - 'null'
              - integer
            email:
              type:
              - 'null'
              - string
            first_name:
              type:
              - 'null'
              - string
            last_name:
              type:
              - 'null'
              - string
            phone:
              type:
              - 'null'
              - string
            postal_code:
              type:
              - 'null'
              - string
            state:
              type:
              - 'null'
              - string
          type:
          - 'null'
          - object
        create_date:
          format: date-time
          type:
          - 'null'
          - string
        plan:
          properties:
            agent_leaderboard:
              type:
              - 'null'
              - boolean
            agent_reports:
              type:
              - 'null'
              - boolean
            analytics:
              type:
              - 'null'
              - boolean
            chat_reports:
              type:
              - 'null'
              - boolean
            daily_reports:
              type:
              - 'null'
              - boolean
            email_reports:
              type:
              - 'null'
              - boolean
            file_upload:
              type:
              - 'null'
              - boolean
            goals:
              type:
              - 'null'
              - integer
            high_load:
              type:
              - 'null'
              - boolean
            integrations:
              type:
              - 'null'
              - boolean
            ip_restriction:
              type:
              - 'null'
              - boolean
            long_desc:
              type:
              - 'null'
              - string
            max_advanced_triggers:
              type:
              - 'null'
              - string
            max_agents:
              type:
              - 'null'
              - integer
            max_basic_triggers:
              type:
              - 'null'
              - string
            max_concurrent_chats:
              type:
              - 'null'
              - string
            max_departments:
              type:
              - 'null'
              - string
            max_history_search_days:
              type:
              - 'null'
              - string
            monitoring:
              type:
              - 'null'
              - boolean
            name:
              type:
              - 'null'
              - string
            operating_hours:
              type:
              - 'null'
              - boolean
            price:
              type:
              - 'null'
              - number
            rest_api:
              type:
              - 'null'
              - boolean
            short_desc:
              type:
              - 'null'
              - string
            sla:
              type:
              - 'null'
              - boolean
            support:
              type:
              - 'null'
              - boolean
            unbranding:
              type:
              - 'null'
              - boolean
            widget_customization:
              type:
              - 'null'
              - string
          type:
          - 'null'
          - object
        status:
          type:
          - 'null'
          - string
  type: DeclarativeStream
  name: "accounts"
- primary_key: "id"
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path: []
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: DefaultPaginator
      page_token_option:
        type: RequestOption
        inject_into: request_parameter
        field_name: since_id
      page_size_option:
        inject_into: request_parameter
        type: RequestOption
        field_name: limit
      pagination_strategy:
        type: CustomPaginationStrategy
        class_name: 
          source_declarative_manifest.components.ZendeskChatIdOffsetIncrementPaginationStrategy
        id_field: id
        page_size: 100
    ignore_stream_slicer_parameters_on_paginated_requests: true
    type: SimpleRetriever
  incremental_sync:
    type: CustomIncrementalSync
    class_name: 
      source_declarative_manifest.components.ZendeskChatIdIncrementalCursor
    cursor_field: "id"
    field_name: "since_id"
  description: >-
    Agents Stream: https://developer.zendesk.com/rest_api/docs/chat/agents#list-agents
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        create_date:
          format: date-time
          type:
          - 'null'
          - string
        departments:
          items:
            type:
            - integer
          type:
          - 'null'
          - array
        display_name:
          type:
          - 'null'
          - string
        email:
          type:
          - 'null'
          - string
        enabled:
          type:
          - 'null'
          - boolean
        enabled_departments:
          type:
          - 'null'
          - array
        first_name:
          type:
          - 'null'
          - string
        id:
          type:
          - integer
        last_login:
          format: date-time
          type:
          - 'null'
          - string
        last_name:
          type:
          - 'null'
          - string
        login_count:
          type:
          - 'null'
          - integer
        role_id:
          type:
          - 'null'
          - integer
        roles:
          properties:
            administrator:
              type:
              - boolean
            owner:
              type:
              - boolean
          type:
          - 'null'
          - object
        scope:
          type:
          - 'null'
          - string
        skills:
          items:
            type: integer
          type:
          - 'null'
          - array
  type: DeclarativeStream
  name: "agents"
- primary_key: "id"
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path:
        - "{{ parameters.get('data_field') }}"
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
      request_parameters:
        fields: "{{ parameters['name'] + '(*)' }}"
    paginator:
      type: DefaultPaginator
      page_token_option:
        type: RequestOption
        inject_into: request_parameter
        field_name: start_time
      page_size_option:
        inject_into: request_parameter
        type: RequestOption
        field_name: limit
      pagination_strategy:
        type: CustomPaginationStrategy
        class_name: 
          source_declarative_manifest.components.ZendeskChatTimeOffsetIncrementPaginationStrategy
        time_field_name: end_time
        page_size: 1000
    ignore_stream_slicer_parameters_on_paginated_requests: true
    type: SimpleRetriever
  incremental_sync:
    type: CustomIncrementalSync
    class_name: source_declarative_manifest.components.ZendeskChatTimestampCursor
    use_microseconds: "{{ parameters['use_microseconds'] }}"
    cursor_field: "{{ parameters['cursor_field'] }}"
    cursor_datetime_formats:
    - "%Y-%m-%dT%H:%M:%S.%fZ"
    - "%Y-%m-%dT%H:%M:%SZ"
    datetime_format: "%s"
    start_datetime:
      datetime: "{{ format_datetime(config['start_date'], '%s') }}"
      type: MinMaxDatetime
    start_time_option:
      field_name: start_time
      inject_into: "request_parameter"
      type: RequestOption
  description: >-
    Agent Timelines Stream: https://developer.zendesk.com/rest_api/docs/chat/incremental_export#incremental-agent-timeline-export
  transformations:
  - type: AddFields
    fields:
    - path:
      - "start_time"
      value: "{{ format_datetime(record.get('start_time', config['start_date']), '%Y-%m-%dT%H:%M:%SZ')
        }}"
      type: AddedFieldDefinition
    - path:
      - "id"
      value: "{{ record.get('agent_id', '')|string + '|' + record.get('start_time',
        '')|string }}"
      type: AddedFieldDefinition
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        id:
          type:
          - 'null'
          - string
        agent_id:
          type:
          - 'null'
          - integer
        duration:
          type:
          - 'null'
          - number
        engagement_count:
          type:
          - 'null'
          - integer
        start_time:
          type:
          - 'null'
          - string
          format: date-time
        status:
          type:
          - 'null'
          - string
  type: DeclarativeStream
  name: "agent_timeline"
- primary_key: "id"
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      type: RecordSelector
      extractor:
        type: CustomRecordExtractor
        class_name: 
          source_declarative_manifest.components.ZendeskChatBansRecordExtractor
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: DefaultPaginator
      page_token_option:
        type: RequestOption
        inject_into: request_parameter
        field_name: since_id
      page_size_option:
        inject_into: request_parameter
        type: RequestOption
        field_name: limit
      pagination_strategy:
        type: CustomPaginationStrategy
        class_name: 
          source_declarative_manifest.components.ZendeskChatIdOffsetIncrementPaginationStrategy
        id_field: id
        page_size: 100
    ignore_stream_slicer_parameters_on_paginated_requests: true
    type: SimpleRetriever
  incremental_sync:
    type: CustomIncrementalSync
    class_name: 
      source_declarative_manifest.components.ZendeskChatIdIncrementalCursor
    cursor_field: "id"
    field_name: "since_id"
  description: >-
    Bans Stream: https://developer.zendesk.com/rest_api/docs/chat/bans#list-bans
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        create_date:
          format: date-time
          type:
          - 'null'
          - string
        id:
          type:
          - integer
        ip_address:
          type:
          - 'null'
          - string
        reason:
          type:
          - 'null'
          - string
        type:
          type:
          - 'null'
          - string
        visitor_id:
          type:
          - 'null'
          - string
        visitor_name:
          type:
          - 'null'
          - string
  type: DeclarativeStream
  name: "bans"
- primary_key: "id"
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path:
        - "{{ parameters.get('data_field') }}"
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
      request_parameters:
        fields: "{{ parameters['name'] + '(*)' }}"
    paginator:
      type: DefaultPaginator
      page_token_option:
        type: RequestOption
        inject_into: request_parameter
        field_name: start_time
      page_size_option:
        inject_into: request_parameter
        type: RequestOption
        field_name: limit
      pagination_strategy:
        type: CustomPaginationStrategy
        class_name: 
          source_declarative_manifest.components.ZendeskChatTimeOffsetIncrementPaginationStrategy
        time_field_name: end_time
        page_size: 1000
    ignore_stream_slicer_parameters_on_paginated_requests: true
    type: SimpleRetriever
  incremental_sync:
    type: CustomIncrementalSync
    class_name: source_declarative_manifest.components.ZendeskChatTimestampCursor
    use_microseconds: "{{ parameters['use_microseconds'] }}"
    cursor_field: "{{ parameters['cursor_field'] }}"
    cursor_datetime_formats:
    - "%Y-%m-%dT%H:%M:%S.%fZ"
    - "%Y-%m-%dT%H:%M:%SZ"
    datetime_format: "%s"
    start_datetime:
      datetime: "{{ format_datetime(config['start_date'], '%s') }}"
      type: MinMaxDatetime
    start_time_option:
      field_name: start_time
      inject_into: "request_parameter"
      type: RequestOption
  description: >-
    Chats Stream: https://developer.zendesk.com/api-reference/live-chat/chat-api/incremental_export/#incremental-chat-export
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        agent_ids:
          items:
            type:
            - string
          type:
          - 'null'
          - array
        agent_names:
          items:
            type:
            - string
          type:
          - 'null'
          - array
        comment:
          type:
          - 'null'
          - string
        conversions:
          items:
            properties:
              id:
                type:
                - string
              goal_name:
                type:
                - 'null'
                - string
              goal_id:
                type:
                - 'null'
                - integer
              attribution:
                properties:
                  chat_timestamp:
                    format: date-time
                    type:
                    - 'null'
                    - string
                  department_name:
                    type:
                    - 'null'
                    - string
                  agent_name:
                    type:
                    - 'null'
                    - string
                  department_id:
                    type:
                    - 'null'
                    - integer
                  agent_id:
                    type:
                    - 'null'
                    - integer
                type:
                - 'null'
                - object
              timestamp:
                format: date-time
                type:
                - 'null'
                - string
            type:
            - 'null'
            - object
            additionalProperties: true
          type:
          - 'null'
          - array
        count:
          properties:
            total:
              type:
              - 'null'
              - integer
            agent:
              type:
              - 'null'
              - integer
            visitor:
              type:
              - 'null'
              - integer
          type:
          - 'null'
          - object
          additionalProperties: true
        department_id:
          type:
          - 'null'
          - integer
        department_name:
          type:
          - 'null'
          - string
        duration:
          type:
          - 'null'
          - integer
        history:
          items:
            properties:
              name:
                type:
                - 'null'
                - string
              channel:
                type:
                - 'null'
                - string
              conversion:
                properties:
                  id:
                    type:
                    - string
                  goal_name:
                    type:
                    - 'null'
                    - string
                  goal_id:
                    type:
                    - 'null'
                    - integer
                  attribution:
                    properties:
                      chat_timestamp:
                        format: date-time
                        type:
                        - 'null'
                        - string
                      department_name:
                        type:
                        - 'null'
                        - string
                      agent_name:
                        type:
                        - 'null'
                        - string
                      department_id:
                        type:
                        - 'null'
                        - integer
                      agent_id:
                        type:
                        - 'null'
                        - integer
                    type:
                    - 'null'
                    - object
                  timestamp:
                    format: date-time
                    type:
                    - 'null'
                    - string
                type:
                - 'null'
                - object
                additionalProperties: true
              timestamp:
                format: date-time
                type:
                - 'null'
                - string
              msg:
                type:
                - 'null'
                - string
              nick:
                type:
                - 'null'
                - string
              type:
                type:
                - 'null'
                - string
              options:
                type:
                - 'null'
                - string
              department_id:
                type:
                - 'null'
                - integer
                - string
              prev_department_id:
                type:
                - 'null'
                - integer
                - string
              department_name:
                type:
                - 'null'
                - string
              msg_id:
                type:
                - 'null'
                - string
                - integer
              tags:
                type:
                - 'null'
                - array
              new_tags:
                type:
                - 'null'
                - array
              rating:
                type:
                - 'null'
                - string
              new_rating:
                type:
                - 'null'
                - string
              skills_name:
                type:
                - 'null'
                - array
            type:
            - 'null'
            - object
            additionalProperties: true
          type:
          - 'null'
          - array
        id:
          type:
          - 'null'
          - string
        missed:
          type:
          - 'null'
          - boolean
        rating:
          type:
          - 'null'
          - string
        response_time:
          properties:
            first:
              type:
              - 'null'
              - integer
            max:
              type:
              - 'null'
              - integer
            avg:
              type:
              - 'null'
              - number
          type:
          - 'null'
          - object
          additionalProperties: true
        session:
          properties:
            end_date:
              format: date-time
              type:
              - 'null'
              - string
            country_code:
              type:
              - 'null'
              - string
            city:
              type:
              - 'null'
              - string
            browser:
              type:
              - 'null'
              - string
            ip:
              type:
              - 'null'
              - string
            country_name:
              type:
              - 'null'
              - string
            id:
              type:
              - 'null'
              - string
            region:
              type:
              - 'null'
              - string
            platform:
              type:
              - 'null'
              - string
            user_agent:
              type:
              - 'null'
              - string
            start_date:
              format: date-time
              type:
              - 'null'
              - string
        started_by:
          type:
          - 'null'
          - string
        tags:
          items:
            type:
            - string
          type:
          - 'null'
          - array
        timestamp:
          format: date-time
          type:
          - 'null'
          - string
        update_timestamp:
          format: date-time
          type:
          - 'null'
          - string
        triggered:
          type:
          - 'null'
          - boolean
        triggered_response:
          type:
          - 'null'
          - boolean
        type:
          type:
          - 'null'
          - string
        unread:
          type:
          - 'null'
          - boolean
        visitor:
          properties:
            name:
              type:
              - 'null'
              - string
            id:
              type:
              - string
            email:
              type:
              - 'null'
              - string
            notes:
              type:
              - 'null'
              - string
            phone:
              type:
              - 'null'
              - string
          type:
          - 'null'
          - object
          additionalProperties: true
        webpath:
          items:
            properties:
              to:
                type:
                - 'null'
                - string
              title:
                type:
                - 'null'
                - string
              from:
                type:
                - 'null'
                - string
              timestamp:
                format: date-time
                type:
                - 'null'
                - string
            type:
            - 'null'
            - object
            additionalProperties: true
          type:
          - 'null'
          - array
        message:
          type:
          - 'null'
          - string
        deleted:
          type:
          - 'null'
          - boolean
        zendesk_ticket_id:
          type:
          - 'null'
          - integer
        engagements:
          items:
            properties:
              id:
                type:
                - 'null'
                - string
              started_by:
                type:
                - 'null'
                - string
              agent_id:
                type:
                - 'null'
                - string
              agent_name:
                type:
                - 'null'
                - string
              agent_full_name:
                type:
                - 'null'
                - string
              department_id:
                type:
                - 'null'
                - integer
              assigned:
                type:
                - 'null'
                - boolean
              accepted:
                type:
                - 'null'
                - boolean
              rating:
                type:
                - 'null'
                - string
              comment:
                type:
                - 'null'
                - string
              skills_requested:
                type:
                - 'null'
                - array
              skills_fulfilled:
                type:
                - 'null'
                - boolean
              timestamp:
                format: date-time
                type:
                - 'null'
                - string
              duration:
                type:
                - 'null'
                - number
              response_time:
                properties:
                  first:
                    type:
                    - 'null'
                    - integer
                  max:
                    type:
                    - 'null'
                    - integer
                  avg:
                    type:
                    - 'null'
                    - number
                type:
                - 'null'
                - object
                additionalProperties: true
              count:
                properties:
                  total:
                    type:
                    - 'null'
                    - integer
                  agent:
                    type:
                    - 'null'
                    - integer
                  visitor:
                    type:
                    - 'null'
                    - integer
                type:
                - 'null'
                - object
                additionalProperties: true
            type:
            - 'null'
            - object
            additionalProperties: true
          type:
          - 'null'
          - array
  type: DeclarativeStream
  name: "chats"
- primary_key: "id"
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path: []
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: NoPagination
    type: SimpleRetriever
  description: >-
    Departments Stream: https://developer.zendesk.com/rest_api/docs/chat/departments#list-departments
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        description:
          type:
          - 'null'
          - string
        enabled:
          type:
          - 'null'
          - boolean
        id:
          type:
          - integer
        members:
          items:
            type:
            - 'null'
            - integer
          type:
          - 'null'
          - array
        name:
          type:
          - 'null'
          - string
        settings:
          type:
          - 'null'
          - object
          additionalProperties: true
  type: DeclarativeStream
  name: "departments"
- primary_key: "id"
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path: []
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: NoPagination
    type: SimpleRetriever
  description: >-
    Goals Stream: https://developer.zendesk.com/rest_api/docs/chat/goals#list-goals
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        attribution_model:
          type:
          - 'null'
          - string
        attribution_period:
          type:
          - 'null'
          - integer
        description:
          type:
          - 'null'
          - string
        enabled:
          type:
          - 'null'
          - boolean
        id:
          type:
          - integer
        name:
          type:
          - 'null'
          - string
        settings:
          properties:
            conditions:
              items:
                properties:
                  operator:
                    type:
                    - 'null'
                    - string
                  type:
                    type:
                    - 'null'
                    - string
                  value:
                    type:
                    - 'null'
                    - string
                type:
                - 'null'
                - object
              type:
              - 'null'
              - array
          type:
          - 'null'
          - object
          additionalProperties: true
  type: DeclarativeStream
  name: "goals"
- primary_key: "id"
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path: []
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: NoPagination
    type: SimpleRetriever
  description: >-
    Roles Stream: https://developer.zendesk.com/rest_api/docs/chat/roles#list-roles
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        description:
          type:
          - 'null'
          - string
        enabled:
          type:
          - 'null'
          - boolean
        id:
          type:
          - integer
        members_count:
          type:
          - integer
        name:
          type:
          - 'null'
          - string
        permissions:
          type:
          - 'null'
          - object
          properties:
            visitors_seen:
              type:
              - 'null'
              - string
            proactive_chatting:
              type:
              - 'null'
              - string
            edit_visitor_information:
              type:
              - 'null'
              - boolean
            edit_visitor_notes:
              type:
              - 'null'
              - boolean
            view_past_chats:
              type:
              - 'null'
              - string
            edit_chat_tags:
              type:
              - 'null'
              - boolean
            manage_bans:
              type:
              - 'null'
              - string
            access_analytics:
              type:
              - 'null'
              - string
            view_monitor:
              type:
              - 'null'
              - string
            edit_department_agents:
              type:
              - 'null'
              - string
            set_agent_chat_limit:
              type:
              - 'null'
              - string
            manage_shortcuts:
              type:
              - 'null'
              - string
  type: DeclarativeStream
  name: "roles"
- primary_key: ""
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      extractor:
        type: DpathExtractor
        field_path:
        - "data"
      type: RecordSelector
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: NoPagination
    type: SimpleRetriever
  description: >-
    Routing Settings Stream: https://developer.zendesk.com/rest_api/docs/chat/routing_settings#show-account-routing-settings
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        routing_mode:
          type:
          - 'null'
          - string
        chat_limit:
          type:
          - 'null'
          - object
          properties:
            enabled:
              type:
              - 'null'
              - boolean
            limit:
              type:
              - 'null'
              - integer
            limit_type:
              type:
              - 'null'
              - string
            allow_agent_override:
              type:
              - 'null'
              - boolean
        skill_routing:
          type:
          - 'null'
          - object
          properties:
            enabled:
              type:
              - 'null'
              - boolean
            max_wait_time:
              type:
              - 'null'
              - integer
        reassignment:
          type:
          - 'null'
          - object
          properties:
            enabled:
              type:
              - 'null'
              - boolean
            timeout:
              type:
              - 'null'
              - integer
        auto_idle:
          type:
          - 'null'
          - object
          properties:
            enabled:
              type:
              - 'null'
              - boolean
            reassignments_before_idle:
              type:
              - 'null'
              - integer
            new_status:
              type:
              - 'null'
              - string
  type: DeclarativeStream
  name: "routing_settings"
- primary_key: "id"
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path: []
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: NoPagination
    type: SimpleRetriever
  description: >-
    Shortcuts Stream: https://developer.zendesk.com/rest_api/docs/chat/shortcuts#list-shortcuts
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        tags:
          items:
            type:
            - string
          type:
          - 'null'
          - array
        name:
          type:
          - string
        options:
          type:
          - 'null'
          - string
        message:
          type:
          - 'null'
          - string
        scope:
          type:
          - 'null'
          - string
        id:
          type:
          - 'null'
          - string
        departments:
          items:
            type: integer
          type:
          - 'null'
          - array
  type: DeclarativeStream
  name: "shortcuts"
- primary_key: "id"
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path: []
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: NoPagination
    type: SimpleRetriever
  description: >-
    Skills Stream: https://developer.zendesk.com/rest_api/docs/chat/skills#list-skills
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        description:
          type:
          - 'null'
          - string
        enabled:
          type:
          - 'null'
          - boolean
        id:
          type:
          - integer
        members:
          items:
            type: integer
          type:
          - 'null'
          - array
        name:
          type:
          - 'null'
          - string
  type: DeclarativeStream
  name: "skills"
- primary_key: "id"
  retriever:
    description: >-
      Default Retriever for Full Refresh streams
    record_selector:
      description: >-
        Base records selector for Full Refresh streams
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path: []
    requester:
      description: >-
        Default Base Requester for Full Refresh streams
      type: HttpRequester
      url_base: https://www.zopim.com/api/v2/
      path: "{{ parameters['path'] }}"
      http_method: GET
      authenticator:
        type: BearerAuthenticator
        api_token: "{{ config['credentials']['access_token'] }}"
      error_handler:
        type: DefaultErrorHandler
        description: >-
          The default error handler
        backoff_strategies:
        - type: WaitTimeFromHeader
          header: Retry-After
    paginator:
      type: NoPagination
    type: SimpleRetriever
  description: >-
    Triggers Stream: https://developer.zendesk.com/rest_api/docs/chat/triggers#list-triggers
  schema_loader:
    type: InlineSchemaLoader
    schema:
      $schema: http://json-schema.org/draft-07/schema#
      type: object
      properties:
        description:
          type:
          - 'null'
          - string
        enabled:
          type:
          - 'null'
          - boolean
        id:
          type:
          - integer
        name:
          type:
          - 'null'
          - string
        definition:
          properties:
            actions:
              type:
              - 'null'
              - string
              - array
            condition:
              type:
              - 'null'
              - string
              - array
            event:
              type:
              - 'null'
              - string
              - array
            version:
              type:
              - 'null'
              - integer
          type:
          - 'null'
          - object
  type: DeclarativeStream
  name: "triggers"
check:
  type: CheckStream
  stream_names:
  - routing_settings
type: DeclarativeSource
spec:
  type: Spec
  documentation_url: https://docs.airbyte.com/integrations/sources/zendesk-chat
  connection_specification:
    $schema: http://json-schema.org/draft-07/schema#
    title: Zendesk Chat Spec
    type: object
    required:
    - start_date
    additionalProperties: true
    properties:
      start_date:
        type: string
        title: Start Date
        description: The date from which you'd like to replicate data for Zendesk
          Chat API, in the format YYYY-MM-DDT00:00:00Z.
        examples:
        - '2021-02-01T00:00:00Z'
        pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$
        format: date-time
      subdomain:
        type: string
        title: Subdomain
        description: Required if you access Zendesk Chat from a Zendesk Support subdomain.
        default: ''
      credentials:
        title: Authorization Method
        type: object
        oneOf:
        - type: object
          title: OAuth2.0
          required:
          - credentials
          properties:
            credentials:
              type: string
              const: oauth2.0
              order: 0
            client_id:
              type: string
              title: Client ID
              description: The Client ID of your OAuth application
              airbyte_secret: true
            client_secret:
              type: string
              title: Client Secret
              description: The Client Secret of your OAuth application.
              airbyte_secret: true
            access_token:
              type: string
              title: Access Token
              description: Access Token for making authenticated requests.
              airbyte_secret: true
            refresh_token:
              type: string
              title: Refresh Token
              description: Refresh Token to obtain new Access Token, when it's expired.
              airbyte_secret: true
        - type: object
          title: Access Token
          required:
          - credentials
          - access_token
          properties:
            credentials:
              type: string
              const: access_token
              order: 0
            access_token:
              type: string
              title: Access Token
              description: The Access Token to make authenticated requests.
              airbyte_secret: true
